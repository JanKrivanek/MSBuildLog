<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>MSBuild Log Viewer</title>
    <link href="styles.css" rel="stylesheet" />
    <script src="scripts.js"></script>
</head>
<body>
    <h1>MSBuild Binary and Structured Log Viewer</h1>
    <div class="buttonHost">
        <a href="https://github.com/KirillOsenkov/MSBuildStructuredLog/releases/download/v1.1.142/MSBuildStructuredLogSetup.exe" class="bigButton">Download&nbsp;MSBuild&nbsp;Structured&nbsp;Log&nbsp;Viewer</a>
    </div>

    <h2 id="usingbl">Using MSBuild.exe /bl to record a binary log</h2>
    <p>MSBuild 15.3 introduces a new command-line switch: <span class="inlineCode">/bl</span> to record all build events to a structured/binary log file:</p>
    <img src="BinLogFromCommandLine.png" width="70%" />
    <p>Double-click the <span class="inlineCode">.binlog</span> file to open it in MSBuild Structured Log Viewer:</p>
    <img src="Screenshot1.png" width="100%" />

    <h2 id="advantages">Binary log advantages</h2>
    <p>
        <ul>
            <li>Replayability - preserves the exact events in order they happened during the build. You can replay a binary log into other loggers to reconstruct full text logs. Pass the .binlog file to MSBuild instead of a project/solution to replay the log as if the original build was happening.</li>
            <li>Completeness - binary logs capture more information than even the most diagnostic-level text logs. The binary logger turns on various MSBuild switches to output more information, such as task inputs and target outputs.</li>
            <li>Faster builds - binary logger adds far less overhead to the build than a text log, and can make builds significantly faster if other logs are disabled. They can be reconstructed later anyway if needed.</li>
            <li>Smaller disk size - a binary log is much smaller in size than a corresponding text log (10-20x or more). This can result in significant storage savings on CI servers.</li>
            <li>Easier to read/analyze - text logs (especially from multi-processor builds) can become unwieldy, intertwined and hard to read.</li>
            <li>All information is easily accessible programmatically for tools such as analyzers (whereas you need to parse text logs yourself and it's hard without clearly defined structure) A .NET API is available to load and query binary logs.</li>
            <li>A binary log optionally embeds the source text of all project files and imported targets files used during the build, so it is possible to correlate log events with the source code. Preprocessed view (with all imports inlined) is available for each file (like /pp).</li>
        </ul>
    </p>
    <a href="https://github.com/Microsoft/msbuild/wiki/Binary-Log" target="_blank">Read more about the new MSBuild binary log format (*.binlog)</a>

    <h2 id="features">Viewer Features</h2>
    <p>The MSBuild Structured Log Viewer can build projects and solutions or open existing log files:</p>
    <img src="Screenshot2.png" width="70%" />
    <p>Leverage the source code of projects and targets embedded in the log file:</p>
    <img src="ViewerOverview3.gif" width="100%" />

    <h2 id="commandline">Command-line help for the /bl switch</h2>
    <p>See MSBuild command-line help <span class="inlineCode">msbuild /?</span> for more information on the <span class="inlineCode">/bl</span> switch. The switch is available starting with MSBuild 15.3 (Visual Studio 2017 Update 3 or newer).</p>
    <div class="code">
  /binaryLogger[:[LogFile=]output.binlog[;ProjectImports={None,Embed,ZipFile}]]
                     Serializes all build events to a compressed binary file.
                     By default the file is in the current directory and named
                     "msbuild.binlog". The binary log is a detailed description
                     of the build process that can later be used to reconstruct
                     text logs and used by other analysis tools. A binary log
                     is usually 10-20x smaller than the most detailed text
                     diagnostic-level log, but it contains more information.
                     (Short form: /bl)

                     The binary logger by default collects the source text of
                     project files, including all imported projects and target
                     files encountered during the build. The optional 
                     ProjectImports switch controls this behavior:

                      ProjectImports=None     - Don't collect the project
                                                imports.
                      ProjectImports=Embed    - Embed project imports in the
                                                log file.
                      ProjectImports=ZipFile  - Save project files to 
                                                output.projectimports.zip
                                                where output is the same name
                                                as the binary log file name.

                     The default setting for ProjectImports is Embed.
                     Note: the logger does not collect non-MSBuild source files
                     such as .cs, .cpp etc.

                     A .binlog file can be "played back" by passing it to
                     msbuild.exe as an argument instead of a project/solution.
                     Other loggers will receive the information contained
                     in the log file as if the original build was happening.
                     You can read more about the binary log and its usages at:
                     https://github.com/Microsoft/msbuild/wiki/Binary-Log

                     Examples:
                       /bl
                       /bl:output.binlog
                       /bl:output.binlog;ProjectImports=None
                       /bl:output.binlog;ProjectImports=ZipFile
                       /bl:..\..\custom.binlog
                       /binaryLogger
    </div>

    <a href="https://github.com/KirillOsenkov/MSBuildStructuredLog" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>

    <h2 id="sourcecode">Source code on GitHub</h2>
    <p>The MSBuild Structured Log Viewer project is open-source on GitHub at: <a href="https://github.com/KirillOsenkov/MSBuildStructuredLog" target="_blank">https://github.com/KirillOsenkov/MSBuildStructuredLog</a></p>
    <p>This webpage is also open-source at: <a href="https://github.com/KirillOsenkov/MSBuildLog" target="_blank">https://github.com/KirillOsenkov/MSBuildLog</a></p>
</body>
</html>
